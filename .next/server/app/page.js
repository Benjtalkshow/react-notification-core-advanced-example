(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6414:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),r(5480),r(2029),r(5866);var s=r(3191),a=r(8716),i=r(7922),n=r.n(i),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5480)),"/Users/apple/Documents/library/advanced-nextjs/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,2029)),"/Users/apple/Documents/library/advanced-nextjs/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/apple/Documents/library/advanced-nextjs/src/app/page.tsx"],u="/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4606:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},8139:()=>{},2222:(e,t,r)=>{Promise.resolve().then(r.bind(r,9621))},407:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNotifications=t.NotificationProvider=void 0;let s=r(326),a=r(7577),i=r(7048),n={notifications:[],unreadCount:0,isLoading:!1,error:null,lastUpdated:null},o=(0,a.createContext)(void 0);function l(e,t){switch(t.type){case"FETCH_NOTIFICATIONS_REQUEST":return{...e,isLoading:!0,error:null};case"FETCH_NOTIFICATIONS_SUCCESS":return{...e,notifications:t.payload,unreadCount:t.payload.filter(e=>!e.read).length,isLoading:!1,error:null,lastUpdated:new Date};case"FETCH_NOTIFICATIONS_FAILURE":return{...e,isLoading:!1,error:t.payload};case"ADD_NOTIFICATION":return{...e,notifications:[t.payload,...e.notifications],unreadCount:e.unreadCount+(t.payload.read?0:1),lastUpdated:new Date};case"MARK_AS_READ":return{...e,notifications:e.notifications.map(e=>e.id===t.payload?{...e,read:!0}:e),unreadCount:e.unreadCount-(e.notifications.find(e=>e.id===t.payload&&!e.read)?1:0),lastUpdated:new Date};case"MARK_ALL_AS_READ":return{...e,notifications:e.notifications.map(e=>({...e,read:!0})),unreadCount:0,lastUpdated:new Date};case"DELETE_NOTIFICATION":let r=e.notifications.find(e=>e.id===t.payload);return{...e,notifications:e.notifications.filter(e=>e.id!==t.payload),unreadCount:e.unreadCount-(r&&!r.read?1:0),lastUpdated:new Date};case"CLEAR_ALL_NOTIFICATIONS":return{...e,notifications:[],unreadCount:0,lastUpdated:new Date};default:return e}}t.NotificationProvider=({children:e,fetchNotifications:t,onMarkAsRead:r,onMarkAllAsRead:d,onDeleteNotification:c,fetchOptions:u={retryCount:3,retryDelay:1e3,timeout:1e4},initialState:m={}})=>{let[x,f]=(0,a.useReducer)(l,{...n,...m}),p=(0,a.useRef)(u);(0,a.useEffect)(()=>{p.current=u},[u]),(0,a.useEffect)(()=>{t&&h()},[t]);let h=(0,a.useCallback)(async()=>{if(t)try{f({type:"FETCH_NOTIFICATIONS_REQUEST"});let e=await (0,i.fetchWithRetry)(t,p.current);f({type:"FETCH_NOTIFICATIONS_SUCCESS",payload:e})}catch(e){f({type:"FETCH_NOTIFICATIONS_FAILURE",payload:e instanceof Error?e.message:"Failed to fetch notifications"})}},[t]),g=(0,a.useCallback)(async e=>{if(r)try{await r(e)}catch(e){throw console.error("Error marking notification as read:",e),e}f({type:"MARK_AS_READ",payload:e})},[r]),b=(0,a.useCallback)(async()=>{if(d)try{await d()}catch(e){throw console.error("Error marking all notifications as read:",e),e}f({type:"MARK_ALL_AS_READ"})},[d]),y=(0,a.useCallback)(async e=>{if(c)try{await c(e)}catch(e){throw console.error("Error deleting notification:",e),e}f({type:"DELETE_NOTIFICATION",payload:e})},[c]),N=(0,a.useCallback)(e=>{f({type:"ADD_NOTIFICATION",payload:e})},[]),v=(0,a.useCallback)(()=>{f({type:"CLEAR_ALL_NOTIFICATIONS"})},[]),j=(0,a.useCallback)(async()=>{await h()},[h]),w={...x,addNotification:N,markAsRead:g,markAllAsRead:b,deleteNotification:y,clearAllNotifications:v,refreshNotifications:j};return(0,s.jsx)(o.Provider,{value:w,children:e})},t.useNotifications=()=>{let e=(0,a.useContext)(o);if(void 0===e)throw Error("useNotifications must be used within a NotificationProvider");return e}},4860:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNotificationFilters=void 0;let s=r(7577),a=r(407),i=r(7048);t.useNotificationFilters=()=>{let{notifications:e}=(0,a.useNotifications)(),[t,r]=(0,s.useState)({}),n=(0,s.useMemo)(()=>(0,i.filterNotifications)(e,t),[e,t]),o=(0,s.useCallback)(e=>{r(t=>({...t,read:e}))},[]),l=(0,s.useCallback)(e=>{r(t=>({...t,type:e}))},[]),d=(0,s.useCallback)(e=>{r(t=>({...t,search:e}))},[]);return{filters:t,filteredNotifications:n,filterByReadStatus:o,filterByType:l,filterBySearch:d,filterByDateRange:(0,s.useCallback)((e,t)=>{r(r=>({...r,fromDate:e,toDate:t}))},[]),resetFilters:(0,s.useCallback)(()=>{r({})},[]),countsByType:(0,s.useMemo)(()=>e.reduce((e,t)=>{let r=t.type||"default";return e[r]=(e[r]||0)+1,e},{}),[e]),totalCount:e.length,filteredCount:n.length,unreadCount:e.filter(e=>!e.read).length}}},375:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNotificationGroups=void 0;let s=r(7577),a=r(407),i=r(7048);t.useNotificationGroups=(e=i.groupNotificationsByDate)=>{let{notifications:t}=(0,a.useNotifications)(),r=(0,s.useMemo)(()=>e(t),[t,e]),n=(0,s.useMemo)(()=>Object.keys(r),[r]);return{groupedNotifications:r,groups:n,getNotificationsForGroup:e=>r[e]||[],groupedByType:(0,s.useMemo)(()=>t.reduce((e,t)=>{let r=t.type||"default";return e[r]||(e[r]=[]),e[r].push(t),e},{}),[t])}}},1584:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNotificationPolling=void 0;let s=r(7577),a=r(407),i=r(7048);t.useNotificationPolling=({enabled:e=!0,interval:t=6e4,onError:r,retryCount:n=3,retryDelay:o=1e3}={})=>{let{refreshNotifications:l}=(0,a.useNotifications)(),d=(0,s.useRef)(null),c=(0,s.useRef)(e),u=(0,s.useCallback)(async()=>{try{await (0,i.fetchWithRetry)(l,{retryCount:n,retryDelay:o})}catch(e){r?r(e):console.error("Error polling notifications:",e)}},[l,n,o,r]);return(0,s.useEffect)(()=>(c.current=e,e&&(u(),d.current=setInterval(u,t)),()=>{d.current&&(clearInterval(d.current),d.current=null)}),[e,t,u]),{refresh:u,stopPolling:(0,s.useCallback)(()=>{c.current=!1,d.current&&(clearInterval(d.current),d.current=null)},[]),startPolling:(0,s.useCallback)(()=>{c.current=!0,d.current&&clearInterval(d.current),u(),d.current=setInterval(u,t)},[u,t]),isPolling:()=>c.current}}},5802:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNotificationStorage=void 0;let s=r(7577),a=r(407),i=(()=>{let e={};return{getItem:t=>{var r;return null!==(r=e[t])&&void 0!==r?r:null},setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}})();t.useNotificationStorage=({storageKey:e="notifications",useSessionStorage:t=!1}={})=>{let{notifications:r,addNotification:n,markAsRead:o,markAllAsRead:l,deleteNotification:d,clearAllNotifications:c}=(0,a.useNotifications)(),[u,m]=(0,s.useState)(i);return(0,s.useEffect)(()=>{},[t]),(0,s.useEffect)(()=>{try{let t=u.getItem(e);t&&JSON.parse(t).forEach(e=>{n(e)})}catch(e){console.error("Error loading notifications from storage:",e)}},[u,e,n]),(0,s.useEffect)(()=>{try{u.setItem(e,JSON.stringify(r))}catch(e){console.error("Error saving notifications to storage:",e)}},[r,u,e]),{addNotification:async e=>{n(e)},markAsRead:async e=>{await o(e)},markAllAsRead:async()=>{await l()},deleteNotification:async e=>{await d(e)},clearAllNotifications:()=>{c()},clearStorage:()=>{u.removeItem(e)}}}},7783:(e,t,r)=>{"use strict";t.i$=t.HH=t.Bt=t.v3=t.uj=t.zn=t.JB=void 0;var s=r(407);Object.defineProperty(t,"JB",{enumerable:!0,get:function(){return s.NotificationProvider}}),Object.defineProperty(t,"zn",{enumerable:!0,get:function(){return s.useNotifications}});var a=r(1584);Object.defineProperty(t,"uj",{enumerable:!0,get:function(){return a.useNotificationPolling}});var i=r(5802);Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return i.useNotificationStorage}});var n=r(4860);Object.defineProperty(t,"Bt",{enumerable:!0,get:function(){return n.useNotificationFilters}});var o=r(375);Object.defineProperty(t,"HH",{enumerable:!0,get:function(){return o.useNotificationGroups}});var l=r(7048);Object.defineProperty(t,"i$",{enumerable:!0,get:function(){return l.formatTimestamp}})},7048:(e,t)=>{"use strict";async function r(e,t={}){let{retryCount:r=3,retryDelay:s=1e3,timeout:a=1e4}=t,i=null;for(let t=0;t<=r;t++)try{let t=new Promise((e,t)=>{setTimeout(()=>{t(Error(`Request timed out after ${a}ms`))},a)});return await Promise.race([e(),t])}catch(a){if(i=a instanceof Error?a:Error(String(a)),t===r)throw i;let e=s*Math.pow(2,t);await new Promise(t=>setTimeout(t,e))}throw i||Error("Unknown error during fetch with retry")}Object.defineProperty(t,"__esModule",{value:!0}),t.filterNotifications=t.groupNotificationsByDate=t.formatTimestamp=t.fetchWithRetry=void 0,t.fetchWithRetry=r,t.formatTimestamp=function(e){let t="string"==typeof e?new Date(e):e,r=Math.floor((new Date().getTime()-t.getTime())/1e3);if(r<60)return"just now";if(r<3600){let e=Math.floor(r/60);return`${e} ${1===e?"minute":"minutes"} ago`}if(r<86400){let e=Math.floor(r/3600);return`${e} ${1===e?"hour":"hours"} ago`}{if(!(r<604800))return t.toLocaleDateString();let e=Math.floor(r/86400);return`${e} ${1===e?"day":"days"} ago`}},t.groupNotificationsByDate=function(e){return e.reduce((e,t)=>{let r=("string"==typeof t.timestamp?new Date(t.timestamp):t.timestamp).toDateString();return e[r]||(e[r]=[]),e[r].push(t),e},{})},t.filterNotifications=function(e,t){return e.filter(e=>{var r,s;if(void 0!==t.read&&e.read!==t.read||t.type&&e.type!==t.type)return!1;if(t.search){let a=t.search.toLowerCase(),i=null===(r=e.title)||void 0===r?void 0:r.toLowerCase().includes(a),n=null===(s=e.message)||void 0===s?void 0:s.toLowerCase().includes(a);if(!i&&!n)return!1}if(t.fromDate||t.toDate){let r="string"==typeof e.timestamp?new Date(e.timestamp):e.timestamp;if(t.fromDate&&r<t.fromDate)return!1;if(t.toDate){let e=new Date(t.toDate);if(e.setDate(e.getDate()+1),r>e)return!1}}return!0})}},9621:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var s=r(326),a=r(7577),i=r(7783);function n({unreadCount:e,onClick:t,isOpen:r,onClose:i,notifications:n,markAsRead:o,markAllAsRead:l,deleteNotification:d,isLoading:c,error:u}){let m=(0,a.useRef)(null),x=e=>("string"==typeof e?new Date(e):e).toLocaleString(),f=e=>{switch(e){case"success":return"border-l-4 border-green-500";case"warning":return"border-l-4 border-yellow-500";case"error":return"border-l-4 border-red-500";default:return"border-l-4 border-blue-500"}};return(0,s.jsxs)("div",{className:"relative",ref:m,children:[(0,s.jsxs)("button",{onClick:t,className:"relative p-2 text-gray-700 hover:bg-gray-100 rounded-full","aria-label":"Notifications",children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),s.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e>0&&s.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-red-500 rounded-full",children:e>99?"99+":e})]}),r&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg z-10",children:[(0,s.jsxs)("div",{className:"p-4 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"font-semibold",children:"Notifications"}),e>0&&s.jsx("button",{onClick:()=>l(),className:"text-sm text-blue-500 hover:text-blue-700",children:"Mark all as read"})]}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:c?s.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading notifications..."}):u?(0,s.jsxs)("div",{className:"p-4 text-center text-red-500",children:["Error: ",u]}):0===n.length?s.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications"}):s.jsx("ul",{children:n.map(e=>(0,s.jsxs)("li",{className:`p-4 border-b ${e.read?"":"bg-blue-50"} ${f(e.type)}`,children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("h4",{className:"font-semibold",children:e.title}),s.jsx("span",{className:"text-xs text-gray-500",children:x(e.timestamp)})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.message}),(0,s.jsxs)("div",{className:"flex justify-end mt-2 space-x-2",children:[!e.read&&s.jsx("button",{onClick:()=>o(e.id),className:"text-xs text-blue-500 hover:text-blue-700",children:"Mark as read"}),s.jsx("button",{onClick:()=>d(e.id),className:"text-xs text-red-500 hover:text-red-700",children:"Delete"})]})]},e.id))})})]})]})}function o({notifications:e,groupedNotifications:t,groups:r,markAsRead:a,deleteNotification:i,isLoading:n,error:o}){let l=e=>("string"==typeof e?new Date(e):e).toLocaleString(),d=e=>{switch(e){case"success":return"border-l-4 border-green-500";case"warning":return"border-l-4 border-yellow-500";case"error":return"border-l-4 border-red-500";default:return"border-l-4 border-blue-500"}},c=e=>{switch(e){case"success":return s.jsx("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded",children:"Success"});case"warning":return s.jsx("span",{className:"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded",children:"Warning"});case"error":return s.jsx("span",{className:"px-2 py-1 text-xs bg-red-100 text-red-800 rounded",children:"Error"});default:return s.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:"Info"})}};return n?s.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading notifications..."}):o?(0,s.jsxs)("div",{className:"p-8 text-center text-red-500",children:["Error: ",o]}):t&&r?0===r.length?s.jsx("div",{className:"p-8 text-center text-gray-500",children:"No notifications"}):s.jsx("div",{className:"space-y-6",children:r.map(e=>(0,s.jsxs)("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-100 px-4 py-2 font-medium",children:e}),s.jsx("ul",{className:"divide-y",children:t[e].map(e=>(0,s.jsxs)("li",{className:`p-4 ${e.read?"":"bg-blue-50"} ${d(e.type)}`,children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-semibold",children:e.title}),c(e.type)]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.message})]}),s.jsx("span",{className:"text-xs text-gray-500",children:l(e.timestamp)})]}),(0,s.jsxs)("div",{className:"flex justify-end mt-2 space-x-2",children:[!e.read&&s.jsx("button",{onClick:()=>a(e.id),className:"text-xs text-blue-500 hover:text-blue-700",children:"Mark as read"}),s.jsx("button",{onClick:()=>i(e.id),className:"text-xs text-red-500 hover:text-red-700",children:"Delete"})]})]},e.id))})]},e))}):e?0===e.length?s.jsx("div",{className:"p-8 text-center text-gray-500",children:"No notifications"}):s.jsx("ul",{className:"border rounded-lg overflow-hidden divide-y",children:e.map(e=>(0,s.jsxs)("li",{className:`p-4 ${e.read?"":"bg-blue-50"} ${d(e.type)}`,children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-semibold",children:e.title}),c(e.type)]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.message})]}),s.jsx("span",{className:"text-xs text-gray-500",children:l(e.timestamp)})]}),(0,s.jsxs)("div",{className:"flex justify-end mt-2 space-x-2",children:[!e.read&&s.jsx("button",{onClick:()=>a(e.id),className:"text-xs text-blue-500 hover:text-blue-700",children:"Mark as read"}),s.jsx("button",{onClick:()=>i(e.id),className:"text-xs text-red-500 hover:text-red-700",children:"Delete"})]})]},e.id))}):null}function l({filterByType:e,filterByReadStatus:t,resetFilters:r,countsByType:a,currentFilters:i}){return(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("select",{value:i.type||"",onChange:t=>e(t.target.value||void 0),className:"px-3 py-2 border rounded text-sm",children:[s.jsx("option",{value:"",children:"All Types"}),(0,s.jsxs)("option",{value:"info",children:["Info (",a.info||0,")"]}),(0,s.jsxs)("option",{value:"success",children:["Success (",a.success||0,")"]}),(0,s.jsxs)("option",{value:"warning",children:["Warning (",a.warning||0,")"]}),(0,s.jsxs)("option",{value:"error",children:["Error (",a.error||0,")"]})]}),(0,s.jsxs)("select",{value:void 0===i.read?"":i.read?"read":"unread",onChange:e=>{"read"===e.target.value?t(!0):"unread"===e.target.value?t(!1):t(void 0)},className:"px-3 py-2 border rounded text-sm",children:[s.jsx("option",{value:"",children:"All Status"}),s.jsx("option",{value:"read",children:"Read"}),s.jsx("option",{value:"unread",children:"Unread"})]}),s.jsx("button",{onClick:r,className:"px-3 py-2 border rounded text-sm hover:bg-gray-100",children:"Reset"})]})}function d({totalCount:e,unreadCount:t,filteredCount:r,countsByType:a,lastUpdated:i,isPolling:n}){return(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-medium mb-3",children:"Notification Stats"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"bg-white p-3 rounded shadow-sm",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Total"}),s.jsx("div",{className:"text-xl font-semibold",children:e})]}),(0,s.jsxs)("div",{className:"bg-white p-3 rounded shadow-sm",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Unread"}),s.jsx("div",{className:"text-xl font-semibold text-blue-600",children:t})]}),(0,s.jsxs)("div",{className:"bg-white p-3 rounded shadow-sm",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Filtered"}),s.jsx("div",{className:"text-xl font-semibold",children:r})]}),(0,s.jsxs)("div",{className:"bg-white p-3 rounded shadow-sm",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Status"}),s.jsx("div",{className:"text-sm font-medium",children:s.jsx("span",{className:`inline-flex items-center ${n?"text-green-600":"text-gray-600"}`,children:n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{className:"relative flex h-3 w-3 mr-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),"Polling Active"]}):"Polling Inactive"})})]})]}),(0,s.jsxs)("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"bg-white p-3 rounded shadow-sm",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Info"}),s.jsx("div",{className:"text-xl font-semibold text-blue-600",children:a.info||0})]}),(0,s.jsxs)("div",{className:"bg-white p-3 rounded shadow-sm",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Success"}),s.jsx("div",{className:"text-xl font-semibold text-green-600",children:a.success||0})]}),(0,s.jsxs)("div",{className:"bg-white p-3 rounded shadow-sm",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Warning"}),s.jsx("div",{className:"text-xl font-semibold text-yellow-600",children:a.warning||0})]}),(0,s.jsxs)("div",{className:"bg-white p-3 rounded shadow-sm",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Error"}),s.jsx("div",{className:"text-xl font-semibold text-red-600",children:a.error||0})]})]}),(0,s.jsxs)("div",{className:"mt-4 text-sm text-gray-500",children:["Last updated: ",i]})]})}function c(){let{notifications:e,unreadCount:t,markAsRead:r,markAllAsRead:c,deleteNotification:u,addNotification:m,clearAllNotifications:x,refreshNotifications:f,isLoading:p,error:h,lastUpdated:g}=(0,i.zn)(),{refresh:b,stopPolling:y,startPolling:N,isPolling:v}=(0,i.uj)({interval:3e4,enabled:!1,retryCount:3,retryDelay:2e3}),{clearStorage:j}=(0,i.v3)({storageKey:"advanced-demo-notifications",useSessionStorage:!1}),{filteredNotifications:w,filterByReadStatus:C,filterByType:D,filterBySearch:k,resetFilters:A,countsByType:P,filters:T}=(0,i.Bt)(),{groupedNotifications:E,groups:_}=(0,i.HH)(),[I,S]=(0,a.useState)(!1),[O,R]=(0,a.useState)(!1),[F,L]=(0,a.useState)(!1),[M,$]=(0,a.useState)(""),U=e=>{m({id:`test-${Date.now()}`,title:`Test ${e} notification`,message:`This is a test ${e} notification created at ${new Date().toLocaleTimeString()}`,timestamp:new Date,read:!1,type:e})};return(0,s.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Advanced Notification Demo"}),s.jsx(n,{unreadCount:t,onClick:()=>S(!I),isOpen:I,onClose:()=>S(!1),notifications:e,markAsRead:r,markAllAsRead:c,deleteNotification:u,isLoading:p,error:h})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-medium mb-3",children:"Controls"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{onClick:()=>f(),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",children:"Refresh"}),s.jsx("button",{onClick:()=>{O?(y(),R(!1)):(N(),R(!0))},className:`px-3 py-1 ${O?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600"} text-white rounded text-sm`,children:O?"Stop Polling":"Start Polling"}),s.jsx("button",{onClick:()=>c(),className:"px-3 py-1 bg-purple-500 text-white rounded hover:bg-purple-600 text-sm",disabled:0===t,children:"Mark All Read"}),s.jsx("button",{onClick:()=>{A(),$(""),x(),j()},className:"px-3 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 text-sm",children:"Reset All"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-medium mb-3",children:"Create Test Notification"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{onClick:()=>U("info"),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",children:"Info"}),s.jsx("button",{onClick:()=>U("success"),className:"px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600 text-sm",children:"Success"}),s.jsx("button",{onClick:()=>U("warning"),className:"px-3 py-1 bg-yellow-500 text-white rounded hover:bg-yellow-600 text-sm",children:"Warning"}),s.jsx("button",{onClick:()=>U("error"),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 text-sm",children:"Error"})]})]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-medium mb-3",children:"Filters & Display"}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx("input",{type:"text",placeholder:"Search notifications...",value:M,onChange:e=>{let t=e.target.value;$(t),k(t)},className:"w-full px-3 py-2 border rounded"})}),s.jsx(l,{filterByType:D,filterByReadStatus:C,resetFilters:A,countsByType:P,currentFilters:T}),s.jsx("div",{className:"flex items-center",children:(0,s.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:F,onChange:()=>L(!F),className:"sr-only peer"}),s.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"}),s.jsx("span",{className:"ms-3 text-sm font-medium",children:"Group by Date"})]})})]})]}),s.jsx(d,{totalCount:e.length,unreadCount:t,filteredCount:w.length,countsByType:P,lastUpdated:g?(0,i.i$)(g):"Never",isPolling:O})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:F?"Grouped Notifications":"Filtered Notifications"}),s.jsx(o,{notifications:F?null:w,groupedNotifications:F?E:null,groups:F?_:null,markAsRead:r,deleteNotification:u,isLoading:p,error:h})]})]})}let u=[{id:"1",title:"Welcome to the app",message:"Thanks for trying out our notification system!",timestamp:new Date(Date.now()-3e5),read:!1,type:"info"},{id:"2",title:"New feature available",message:"Check out our new dashboard features.",timestamp:new Date(Date.now()-36e5),read:!0,type:"info"},{id:"3",title:"Action required",message:"Please verify your email address.",timestamp:new Date(Date.now()-72e5),read:!1,type:"warning"},{id:"4",title:"Payment successful",message:"Your subscription has been renewed.",timestamp:new Date(Date.now()-864e5),read:!0,type:"success"},{id:"5",title:"Login attempt",message:"A new login was detected from an unknown device.",timestamp:new Date(Date.now()-1728e5),read:!1,type:"error"},{id:"6",title:"System update",message:"The system will be down for maintenance tonight.",timestamp:new Date(Date.now()-2592e5),read:!0,type:"warning"},{id:"7",title:"New message",message:"You have a new message from the support team.",timestamp:new Date(Date.now()-3456e5),read:!1,type:"info"},{id:"8",title:"Account update",message:"Your account details have been updated.",timestamp:new Date(Date.now()-432e6),read:!0,type:"success"}];async function m(){if(await new Promise(e=>setTimeout(e,500)),.1>Math.random())throw Error("Failed to fetch notifications");return[...u]}async function x(e){await new Promise(e=>setTimeout(e,300)),u=u.map(t=>t.id===e?{...t,read:!0}:t)}async function f(){await new Promise(e=>setTimeout(e,300)),u=u.map(e=>({...e,read:!0}))}async function p(e){await new Promise(e=>setTimeout(e,300)),u=u.filter(t=>t.id!==e)}function h(){return s.jsx("main",{className:"min-h-screen p-8",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Advanced Notification Example"}),s.jsx(i.JB,{fetchNotifications:m,onMarkAsRead:x,onMarkAllAsRead:f,onDeleteNotification:p,fetchOptions:{retryCount:3,retryDelay:1e3,timeout:5e3},children:s.jsx(c,{})})]})})}},2029:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>n});var s=r(9510),a=r(5317),i=r.n(a);r(5023);let n={title:"Advanced Notification Example",description:"Advanced example of react-notification-core"};function o({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:i().className,children:e})})}},5480:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`/Users/apple/Documents/library/advanced-nextjs/src/app/page.tsx#default`)},5023:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[975],()=>r(6414));module.exports=s})();