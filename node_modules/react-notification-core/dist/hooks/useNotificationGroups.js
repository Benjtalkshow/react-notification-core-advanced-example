"use strict";
"use client";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useNotificationGroups = void 0;
const react_1 = require("react");
const NotificationContext_1 = require("../context/NotificationContext");
const fetchUtils_1 = require("../utils/fetchUtils");
/**
 * Hook for grouping notifications
 */
const useNotificationGroups = (groupingFn = fetchUtils_1.groupNotificationsByDate) => {
    const { notifications } = (0, NotificationContext_1.useNotifications)();
    // Group notifications using the provided grouping function
    const groupedNotifications = (0, react_1.useMemo)(() => {
        return groupingFn(notifications);
    }, [notifications, groupingFn]);
    // Get all available groups
    const groups = (0, react_1.useMemo)(() => {
        return Object.keys(groupedNotifications);
    }, [groupedNotifications]);
    // Get notifications for a specific group
    const getNotificationsForGroup = (groupKey) => {
        return groupedNotifications[groupKey] || [];
    };
    // Group by type
    const groupedByType = (0, react_1.useMemo)(() => {
        return notifications.reduce((groups, notification) => {
            const type = notification.type || "default";
            if (!groups[type]) {
                groups[type] = [];
            }
            groups[type].push(notification);
            return groups;
        }, {});
    }, [notifications]);
    return {
        groupedNotifications,
        groups,
        getNotificationsForGroup,
        groupedByType,
    };
};
exports.useNotificationGroups = useNotificationGroups;
//# sourceMappingURL=useNotificationGroups.js.map